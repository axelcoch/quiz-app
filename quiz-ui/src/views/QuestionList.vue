<template>
  <div v-if="question_list.length == 0">
    <img src="../assets/vagabond_no.jpg" alt="musashi" />
  </div>
  <QuestionEdit
    v-else-if="admin_mode === 'newQuestion'"
    :question="emptyQuestion"
    @update:question="postQuestion"
  />
  <div v-else>
    <table
      class="table text-reset table-sm"
      style="background-color: #eee; opacity: 0.7"
    >
      <thead>
        <td>Position</td>
        <td>Question</td>
        <td class="text-center">DÃ©tails</td>
        <td class="text-center">Modification</td>
        <td class="text-center">Supprimer</td>
      </thead>
      <tbody>
        <tr v-for="question in question_list">
          <td>{{ question.position }}</td>
          <td>{{ question.text }}</td>

          <td class="text-center">
            <span @click="$emit('question-detail', question.position)">
              <svg
                width="26"
                height="26"
                version="1.1"
                viewBox="0 0 700 700"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g>
                  <path
                    d="m188.55 236.25c-1.0898 0.007812-2.168 0.21484-3.1797 0.61328-39.559 14.793-67.266 34.055-80.801 57.047-13.535 22.992-10.582 50.148 9.1602 72.633 39.484 44.961 132.34 70.914 236.04 70.957 103.7 0 196.66-25.84 236.32-70.75 19.832-22.457 22.914-49.617 9.4688-72.633-13.445-23.016-41.094-42.324-80.598-57.148-4.5273-1.6992-9.5781 0.59375-11.277 5.125-1.6992 4.5312 0.59766 9.582 5.125 11.281 37.254 13.98 61.441 32.141 71.641 49.594 10.199 17.457 8.75 33.809-7.4844 52.195-32.473 36.77-122.58 64.879-223.2 64.836-100.61 0-190.59-28.234-222.89-65.008-16.148-18.387-17.527-34.73-7.2461-52.191 10.281-17.461 34.562-35.605 71.879-49.562l0.003906-0.003906c4.0078-1.4375 6.3984-5.5508 5.6641-9.7461-0.73438-4.1914-4.3789-7.25-8.6367-7.2383z"
                  />
                  <path
                    d="m341.26 113.75c-72.383 0-131.25 58.867-131.25 131.25v48.637c0 11.266 7.2578 21.355 17.945 24.918l36.266 12.098c55.676 18.559 115.87 18.559 171.55 0l36.266-12.098c10.688-3.5625 17.98-13.652 17.977-24.918v-48.637c0-72.383-58.867-131.25-131.25-131.25zm0 17.5h17.5c62.926 0 113.75 50.824 113.75 113.75v48.637c0 3.8008-2.375 7.1055-5.9805 8.3047l-36.301 12.102c-52.086 17.363-108.39 17.363-160.47 0l-36.266-12.102c-3.6055-1.207-5.9805-4.5039-5.9805-8.3047v-48.637c0-62.926 50.824-113.75 113.75-113.75z"
                    fill-rule="evenodd"
                  />
                  <path
                    d="m210.01 249.55c0 11.266 7.2578 21.355 17.945 24.918l36.266 12.098c55.676 18.559 115.87 18.559 171.55 0l36.266-12.098c10.688-3.5625 17.98-13.652 17.977-24.918h-17.5c0 3.8008-2.3789 7.1055-5.9805 8.3047l-36.301 12.098c-52.086 17.363-108.39 17.363-160.47 0l-36.266-12.098c-3.6055-1.207-5.9805-4.5078-5.9805-8.3047z"
                    fill-rule="evenodd"
                  />
                </g>
              </svg>
            </span>
          </td>

          <td class="text-center">
            <span @click="$emit('question-edit', question.position)">
              <svg
                width="16"
                height="16"
                version="1.1"
                viewBox="0 0 700 700"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="m129.46 64.105-8.3945 8.3867 23.652 52.398 23.492 11.172 24.816-24.816-11.18-23.492-52.391-23.645zm267.98 290.89 17.348-17.348c-71.184-70.281-142.38-140.55-213.57-210.83l-17.355 17.355c71.188 70.277 142.38 140.55 213.57 210.82zm-185.9-241.53 108.88 107.49 93.121-93.121c-1.6406-13.758-0.32422-27.82 3.9414-41.129 4.543-14.195 12.449-27.555 23.68-38.785 12.355-12.355 27.266-20.676 43.051-24.941 16.066-4.3516 33.07-4.4648 49.234-0.36328 1.6406 0.28516 3.2148 1.0586 4.4844 2.3281 3.2734 3.2734 3.2734 8.6055 0 11.879l-31.344 31.352c-6.7461 6.7266-10.113 15.621-10.113 24.531 0 8.8906 3.375 17.785 10.105 24.52 6.7383 6.7383 15.637 10.113 24.531 10.113 8.8906 0 17.793-3.375 24.527-10.105l32.488-32.496c0.95312-0.94531 2.1367-1.6797 3.5117-2.0977 4.4375-1.3359 9.1289 1.1719 10.465 5.6094 5.0742 16.781 5.4883 34.691 1.2422 51.664-4.1133 16.422-12.602 31.988-25.406 44.793-11.719 11.719-25.75 19.816-40.633 24.262-13.91 4.1484-28.602 5.1055-42.879 2.8555l-91.039 91.039 23.234 22.945 10.258-10.258c4.5156-4.5156 10.477-6.7812 16.418-6.7812s11.898 2.2695 16.418 6.7852c4.5234 4.5234 6.7852 10.484 6.7852 16.422 0 1.4766-0.14062 2.9492-0.42188 4.4062 9.4062 0.4375 18.699 4.2266 25.84 11.371l92.988 92.996c3.2734 3.2734 3.2734 8.6055 0 11.879l-85.316 85.316c-3.2734 3.2734-8.6055 3.2734-11.879 0l-92.988-92.996c-7.1484-7.1484-10.941-16.438-11.375-25.836-1.457 0.28516-2.9297 0.42188-4.4062 0.42188-5.9414 0-11.898-2.2617-16.418-6.7812-4.5234-4.5234-6.793-10.484-6.793-16.422 0-5.9414 2.2695-11.906 6.7852-16.422l13.062-13.062-23.242-22.938-76.387 76.387c2.25 14.281 1.2891 28.969-2.8555 42.879-4.4453 14.883-12.535 28.91-24.254 40.633-12.805 12.805-28.367 21.293-44.793 25.398-16.973 4.2461-34.891 3.8359-51.672-1.2383-1.2812-0.41016-2.5-1.1094-3.5117-2.1289-3.2617-3.2734-3.2422-8.5859 0.03125-11.848l32.461-32.484c6.7344-6.7344 10.105-15.637 10.105-24.531 0-8.9102-3.3672-17.812-10.094-24.547-6.7344-6.7266-15.637-10.094-24.547-10.094-8.8945 0-17.801 3.375-24.531 10.105l-31.34 31.344c-1.0391 1.0039-2.3359 1.7734-3.8359 2.1641-4.4727 1.1562-9.0469-1.5273-10.207-6-4.2734-16.344-4.207-33.602 0.19141-49.879 4.2578-15.762 12.582-30.664 24.941-43.031 11.27-11.258 24.617-19.16 38.793-23.707 13.309-4.2578 27.371-5.5742 41.121-3.9336l77.406-77.406-108.85-107.45c-1.3828 0.09375-2.7969-0.15234-4.1328-0.78125l-31.496-14.98c-1.8047-0.80859-3.332-2.2539-4.207-4.1992l-27.289-60.461c-1.375-3.082-0.8125-6.8242 1.707-9.3516l16.285-16.289c2.375-2.6445 6.2773-3.5781 9.6914-2.043l60.461 27.289c1.7539 0.80078 3.2461 2.1875 4.1328 4.0664l14.801 31.113c0.78516 1.4023 1.1445 2.9883 1.0586 4.5586zm79.793 160.34-80.422 80.422c-2.125 2.125-5.1211 2.8711-7.8516 2.2344-12.363-1.9531-25.109-1.0039-37.086 2.832-11.715 3.7578-22.746 10.293-32.047 19.578-10.211 10.227-17.09 22.535-20.602 35.531-2.2891 8.4727-3.168 17.238-2.6445 25.922l19.75-19.758c10.016-10.016 23.223-15.027 36.41-15.027 13.168 0 26.359 5.0117 36.379 15.027 10.047 10.055 15.062 23.242 15.062 36.41 0 13.188-5.0117 26.398-15.027 36.41l-21.504 21.465c9.4336 1.0312 19.008 0.39062 28.234-1.918 13.527-3.3867 26.383-10.402 36.988-21.008 9.7109-9.7109 16.402-21.293 20.062-33.539 3.8086-12.766 4.3789-26.297 1.6992-39.27-0.58203-2.8516 0.37109-5.668 2.2812-7.5938l79.383-79.418-59.066-58.305zm41.047-41.047 59.059 58.305 94.207-94.207c2.2305-2.2305 5.418-2.9414 8.2539-2.1289 12.773 2.5273 26.074 1.918 38.629-1.832 12.25-3.6562 23.824-10.352 33.539-20.066 10.602-10.602 17.621-23.453 21.012-36.988 2.3086-9.2188 2.9492-18.785 1.918-28.211l-21.477 21.484c-10.016 10.016-23.223 15.027-36.406 15.027-13.188 0-26.391-5.0117-36.406-15.027-10.02-10.02-15.035-23.223-15.035-36.406 0-13.168 5.0117-26.352 15.027-36.371l19.762-19.805c-8.6914-0.52344-17.453 0.35547-25.93 2.6523-12.969 3.5039-25.266 10.383-35.5 20.617-9.3203 9.3203-15.867 20.352-19.605 32.027-3.9023 12.172-4.8164 25.121-2.7461 37.66 0.44922 2.7578-0.50781 5.4219-2.3477 7.2617l-95.965 96.004zm116.39 94.668-64.363 64.363c-1.2383 1.2383-1.8633 2.8984-1.8633 4.543 0 1.6484 0.62891 3.3008 1.8633 4.5391 1.2422 1.2422 2.8984 1.8633 4.543 1.8633 1.5352 0 3.0703-0.51562 4.2461-1.5469 21.555-21.555 43.105-43.113 64.652-64.676 1.25-1.2109 1.8594-2.8711 1.8594-4.5391 0-1.6484-0.62109-3.3008-1.8594-4.5391-1.2422-1.2422-2.8984-1.8711-4.543-1.8711-1.6484 0-3.3008 0.62109-4.5391 1.8594zm9.7109 32.211-41.867 41.867c-4.332 4.3125-6.5 10.047-6.5 15.781 0 5.7227 2.168 11.449 6.4961 15.773l87.055 87.062 73.438-73.438-87.051-87.055c-4.3242-4.3242-10.059-6.4961-15.789-6.4961-5.7227 0-11.457 2.1758-15.781 6.5z"
                />
              </svg>
            </span>
          </td>

          <td class="text-center">
            <span @click="$emit('question-delete', question.position)">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-x-lg"
                viewBox="0 0 16 16"
              >
                <path
                  d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"
                />
              </svg>
            </span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</template>

<script>
import QuestionEdit from "./QuestionEdit.vue";

export default {
  name: "QuestionList",
  data() {
    return {
      questions: Array(),
      admin_mode: "",
    };
  },
  components: {
    QuestionEdit,
  },
  props: {
    question_list: {
      type: Object,
    },
    emits: ["question-edit"],
  },
};
</script>
